# 1.1 产品概述

## 1. 项目背景

SQLBot 是由 [DataEase](https://github.com/dataease/dataease) 开源项目组出品的**智能问数系统**，基于大语言模型 (LLM) 和检索增强生成 (RAG) 技术构建。

### 核心定位
> **让非技术用户也能通过自然语言查询数据库，获取数据洞察。**

传统的数据分析流程需要用户掌握 SQL 语法，或依赖 BI 工程师制作固定报表。SQLBot 打破了这一壁垒，用户只需用日常语言提问（如"上个月销售额最高的产品是什么？"），系统即可自动生成 SQL、执行查询并可视化结果。

---

## 2. 核心价值

| 价值点 | 说明 |
| :--- | :--- |
| **开箱即用** | 仅需配置大模型 API 和数据源连接，即可立即使用 |
| **安全可控** | 工作空间隔离 + 行级数据权限，确保数据访问合规 |
| **易于集成** | 提供 Web 嵌入、弹窗嵌入、MCP 调用等多种集成方式 |
| **越问越准** | 支持术语库、SQL 示例等持续优化机制 |

---

## 3. 目标用户画像

### 3.1 终端用户
- **业务分析师**：需要快速获取数据洞察，但不熟悉 SQL
- **产品经理**：需要验证假设、查看运营数据
- **管理层**：需要实时了解关键业务指标

### 3.2 技术团队
- **数据工程师**：负责数据源接入与权限配置
- **运维工程师**：负责系统部署与监控
- **开发者**：进行二次开发与功能扩展

---

## 4. 工作原理

```mermaid
graph LR
    A[用户提问] --> B[语义理解]
    B --> C[RAG 检索]
    C --> D[SQL 生成]
    D --> E[安全校验]
    E --> F[SQL 执行]
    F --> G[结果可视化]
    G --> H[用户查看]
```

### 4.1 核心流程说明

1. **语义理解**：解析用户自然语言问题
2. **RAG 检索**：从术语库、表结构中检索相关上下文
3. **SQL 生成**：调用 LLM 生成符合数据库方言的 SQL
4. **安全校验**：注入行级权限过滤条件
5. **SQL 执行**：连接目标数据源执行查询
6. **结果可视化**：自动生成图表配置（AntV/G2）

---

## 5. 核心功能模块

| 模块 | 功能描述 |
| :--- | :--- |
| **智能问数** | 自然语言 → SQL → 可视化的端到端流程 |
| **数据源管理** | 支持 PostgreSQL、MySQL、Oracle、SQL Server、ClickHouse 等 |
| **AI 模型管理** | 支持 OpenAI、Azure、DeepSeek、通义千问等多种 LLM |
| **术语库** | 定义业务术语与数据库字段的映射关系 |
| **训练数据** | 维护高质量 SQL 示例，提升生成准确率 |
| **权限管理** | 工作空间隔离、行级数据权限 |
| **仪表盘** | 将问答结果固化为可复用的数据看板 |
| **嵌入集成** | 支持 iframe 嵌入、弹窗嵌入、MCP 协议调用 |

---

## 6. 技术栈概览

| 层级 | 技术选型 |
| :--- | :--- |
| **前端** | Vue 3 + TypeScript + Element Plus + AntV/G2 |
| **后端** | Python 3.11 + FastAPI + SQLModel + Alembic |
| **AI 层** | LangChain + HuggingFace Embeddings |
| **数据库** | PostgreSQL 16 + pgvector |
| **部署** | Docker + Docker Compose |

---

## 7. 许可证

本项目遵循 [FIT2CLOUD Open Source License](../../LICENSE)（本质为 GPLv3 + 额外限制）。

- 不得替换或修改 SQLBot 的 Logo 和版权信息
- 二次开发衍生作品须遵守 GPLv3 开源义务

如需商业授权，请联系 support@fit2cloud.com。
